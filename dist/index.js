import{execSync as e}from"child_process";const o=({files:o=[],patterns:r=[]})=>{try{const t=((e,{files:o,patterns:r})=>e.filter((e=>o.includes(e)||r.some((o=>new RegExp(o).test(e))))))((()=>{const o=e("git rev-parse --verify HEAD >/dev/null 2>&1 && echo HEAD || echo 4b825dc642cb6eb9a060e54bf8d69288fbee4904");return e(`git diff --cached --name-only ${o}`).toString().trim().split("\n")})(),{files:o,patterns:r});t.length>0&&(console.error(`ðŸš« Error: The following files are protected and cannot be modified: [ ${t.join(", ")} ]`),process.exit(1)),console.log("âœ¨ Successful Execution!"),process.exit(0)}catch(e){console.error("ðŸš« Execution Error:",e.message),process.exit(1)}};export{o as preventFileChanges};
